import{j as n}from"./jsx-runtime.D_zvdyIk.js";import{R as K,r as l}from"./index.DtoOFyvK.js";/* empty css                       */const Q="radial-gradient(farthest-side circle at var(--pointer-x) var(--pointer-y),hsla(330,100%,50%,calc(var(--card-opacity)*0.12)) 4%,hsla(330,80%,45%,calc(var(--card-opacity)*0.10)) 10%,hsla(330,60%,40%,calc(var(--card-opacity)*0.08)) 50%,hsla(330,0%,30%,0) 100%),radial-gradient(35% 52% at 55% 20%,rgba(255,0,110,0.08) 0%,rgba(255,0,110,0) 100%),radial-gradient(100% 100% at 50% 50%,rgba(255,0,110,0.10) 1%,rgba(255,0,110,0) 76%),conic-gradient(from 124deg at 50% 50%,rgba(255,0,110,0.12) 0%,rgba(255,0,110,0.08) 40%,rgba(255,0,110,0.08) 60%,rgba(255,0,110,0.12) 100%)",Z="linear-gradient(145deg,#60496e8c 0%,#71C4FF44 100%)",I={SMOOTH_DURATION:600,INITIAL_DURATION:1500,INITIAL_X_OFFSET:70,INITIAL_Y_OFFSET:60,DEVICE_BETA_OFFSET:20},F=(a,i=0,u=100)=>Math.min(Math.max(a,i),u),b=(a,i=3)=>parseFloat(a.toFixed(i)),O=(a,i,u,N,A)=>b(N+(A-N)*(a-i)/(u-i)),ee=a=>a<.5?4*a*a*a:1-Math.pow(-2*a+2,3)/2,te=({avatarUrl:a="/favicon.png",iconUrl:i="https://assets.codepen.io/13471/holo-sparkles.webp",grainUrl:u="https://assets.codepen.io/13471/sparkles.gif",behindGradient:N,innerGradient:A,showBehindGradient:k=!0,className:P="",enableTilt:x=!0,enableMobileTilt:R=!1,mobileTiltSensitivity:_=5,miniAvatarUrl:X,name:L="Nikhil Raj",title:Y="Software Engineer",handle:q="nikkhilraj",status:W="Online",contactText:B="Contact Me",showUserInfo:z=!0,onContactClick:$})=>{const h=l.useRef(null),f=l.useRef(null),r=l.useMemo(()=>{if(!x)return null;let e=null;const t=(s,d,p,g)=>{const m=p.clientWidth,E=p.clientHeight,o=F(100/m*s),v=F(100/E*d),j=o-50,w=v-50,y={"--pointer-x":`${o}%`,"--pointer-y":`${v}%`,"--background-x":`${O(o,0,100,35,65)}%`,"--background-y":`${O(v,0,100,35,65)}%`,"--pointer-from-center":`${F(Math.hypot(v-50,o-50)/50,0,1)}`,"--pointer-from-top":`${v/100}`,"--pointer-from-left":`${o/100}`,"--rotate-x":`${b(-(j/3))}deg`,"--rotate-y":`${b(w/2.5)}deg`};Object.entries(y).forEach(([T,C])=>{g.style.setProperty(T,C)})};return{updateCardTransform:t,createSmoothAnimation:(s,d,p,g,m)=>{const E=performance.now(),o=m.clientWidth/2,v=m.clientHeight/2,j=w=>{const y=w-E,T=F(y/s),C=ee(T),G=O(C,0,1,d,o),J=O(C,0,1,p,v);t(G,J,g,m),T<1&&(e=requestAnimationFrame(j))};e=requestAnimationFrame(j)},cancelAnimation:()=>{e&&(cancelAnimationFrame(e),e=null)}}},[x]),D=l.useCallback(e=>{const t=f.current,c=h.current;if(!t||!c||!r)return;const s=t.getBoundingClientRect();r.updateCardTransform(e.clientX-s.left,e.clientY-s.top,t,c)},[r]),S=l.useCallback(()=>{const e=f.current,t=h.current;!e||!t||!r||(r.cancelAnimation(),t.classList.add("active"),e.classList.add("active"))},[r]),H=l.useCallback(e=>{const t=f.current,c=h.current;!t||!c||!r||(r.createSmoothAnimation(I.SMOOTH_DURATION,e.offsetX,e.offsetY,t,c),c.classList.remove("active"),t.classList.remove("active"))},[r]),M=l.useCallback(e=>{const t=f.current,c=h.current;if(!t||!c||!r)return;const{beta:s,gamma:d}=e;!s||!d||r.updateCardTransform(t.clientHeight/2+d*_,t.clientWidth/2+(s-I.DEVICE_BETA_OFFSET)*_,t,c)},[r,_]);l.useEffect(()=>{if(!x||!r)return;const e=f.current,t=h.current;if(!e||!t)return;const c=D,s=S,d=H,p=M,g=()=>{!R||location.protocol!=="https:"||(typeof window.DeviceMotionEvent.requestPermission=="function"?window.DeviceMotionEvent.requestPermission().then(o=>{o==="granted"&&window.addEventListener("deviceorientation",p)}).catch(o=>console.error(o)):window.addEventListener("deviceorientation",p))};e.addEventListener("pointerenter",s),e.addEventListener("pointermove",c),e.addEventListener("pointerleave",d),e.addEventListener("click",g);const m=t.clientWidth-I.INITIAL_X_OFFSET,E=I.INITIAL_Y_OFFSET;return r.updateCardTransform(m,E,e,t),r.createSmoothAnimation(I.INITIAL_DURATION,m,E,e,t),()=>{e.removeEventListener("pointerenter",s),e.removeEventListener("pointermove",c),e.removeEventListener("pointerleave",d),e.removeEventListener("click",g),window.removeEventListener("deviceorientation",p),r.cancelAnimation()}},[x,R,r,D,S,H,M]);const U=l.useMemo(()=>({"--icon":i?`url(${i})`:"none","--grain":u?`url(${u})`:"none","--behind-gradient":k?N??Q:"none","--inner-gradient":A??Z}),[i,u,k,N,A]),V=l.useCallback(()=>{$?.()},[$]);return n.jsx("div",{ref:h,className:`pc-card-wrapper ${P}`.trim(),style:U,children:n.jsx("section",{ref:f,className:"pc-card",children:n.jsxs("div",{className:"pc-inside",children:[n.jsx("div",{className:"pc-shine"}),n.jsx("div",{className:"pc-glare"}),n.jsxs("div",{className:"pc-content pc-avatar-content",children:[n.jsx("img",{className:"avatar",src:a,alt:`${L||"User"} avatar`,loading:"lazy",onError:e=>{const t=e.target;t.style.display="none"}}),z&&n.jsxs("div",{className:"pc-user-info",children:[n.jsxs("div",{className:"pc-user-details",children:[n.jsx("div",{className:"pc-mini-avatar",children:n.jsx("img",{src:X||a,alt:`${L||"User"} mini avatar`,loading:"lazy",onError:e=>{const t=e.target;t.style.opacity="0.5",t.src=a}})}),n.jsxs("div",{className:"pc-user-text",children:[n.jsxs("div",{className:"pc-handle",children:["@",q]}),n.jsx("div",{className:"pc-status",children:W})]})]}),n.jsx("button",{className:"pc-contact-btn",onClick:V,style:{pointerEvents:"auto"},type:"button","aria-label":`Contact ${L||"user"}`,children:B})]})]}),n.jsx("div",{className:"pc-content",children:n.jsxs("div",{className:"pc-details",children:[n.jsx("h3",{children:L}),n.jsx("p",{children:Y})]})})]})})})},ce=K.memo(te);export{ce as default};
